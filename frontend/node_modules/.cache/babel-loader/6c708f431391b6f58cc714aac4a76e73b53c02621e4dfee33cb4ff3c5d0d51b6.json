{"ast":null,"code":"var _jsxFileName = \"/Users/harisharan/Desktop/portfolio_py/frontend/src/pages/ResumePage.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/ResumePage.js\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api'; // Your configured Axios instance\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResumePage = () => {\n  _s();\n  const [resumes, setResumes] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n\n  // State for the add resume form\n  const [newResumeField, setNewResumeField] = useState('');\n  // const [newResumeFilename, setNewResumeFilename] = useState(''); // We'll use the file's actual name\n  const [selectedFile, setSelectedFile] = useState(null);\n  const fetchResumes = async () => {\n    setIsLoading(true);\n    try {\n      const response = await api.get('/resumes'); // REAL API CALL\n      setResumes(response.data);\n      setError(null);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Error fetching resumes:\", err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to load resumes. Is the backend running?\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchResumes();\n  }, []);\n  const handleDelete = async (resumeId, resumeField) => {\n    if (window.confirm(`Are you sure you want to delete the ${resumeField} resume? This is permanent.`)) {\n      setIsLoading(true);\n      try {\n        await api.delete(`/resumes/${resumeId}`); // REAL API CALL\n        // alert('Resume deleted successfully!');\n        fetchResumes(); // Refresh the list\n      } catch (err) {\n        var _err$response2, _err$response2$data;\n        console.error(\"Error deleting resume:\", err);\n        alert(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Failed to delete resume.');\n        setIsLoading(false); // Only set loading to false if fetchResumes is not called or also fails\n      }\n    }\n  };\n  const handleUpdate = resume => {\n    // This would navigate to an edit page or open an edit modal\n    // Requires a separate form and PUT endpoint on the backend\n    alert(`Update functionality for \"${resume.field}\" (ID: ${resume._id}) needs to be built out. This would involve a form and a PUT request to the backend.`);\n  };\n  const handleAddNewResume = async e => {\n    e.preventDefault();\n    if (!newResumeField.trim()) {\n      alert(\"Please provide a field/category for the new resume.\");\n      return;\n    }\n    if (!selectedFile) {\n      alert(\"Please select a PDF file to upload.\");\n      return;\n    }\n    setIsLoading(true);\n    const formData = new FormData();\n    formData.append('field', newResumeField);\n    formData.append('resumeFile', selectedFile); // 'resumeFile' must match the name expected by multer on the backend\n\n    // If you have a customFieldName logic based on 'Other' category:\n    // if (newResumeField.toLowerCase() === 'other' && customFieldNameState) {\n    //   formData.append('customFieldName', customFieldNameState);\n    // }\n\n    try {\n      await api.post('/resumes', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data' // Important for file uploads\n        }\n      });\n      setNewResumeField('');\n      setSelectedFile(null);\n      if (document.getElementById('resumeFile')) {\n        // Reset file input visually\n        document.getElementById('resumeFile').value = null;\n      }\n      setShowAddForm(false);\n      fetchResumes(); // Refresh the list with the newly added resume\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(\"Error adding resume:\", err.response || err);\n      alert(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || \"Failed to add resume. Check console for details.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Initial loading state for the whole page\n  if (isLoading && resumes.length === 0 && !error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10\",\n      children: \"Loading resumes...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Error state for initial load\n  if (error && resumes.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10 text-red-500 bg-red-100 p-3 rounded\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl md:text-4xl font-bold text-gray-800 text-center sm:text-left\",\n        children: \"Manage Resumes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowAddForm(!showAddForm),\n        className: \"w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transition duration-300\",\n        children: showAddForm ? 'Cancel Add' : 'Add New Resume'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), error && resumes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 text-center text-red-500 bg-red-100 p-3 rounded\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 10\n    }, this), showAddForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-xl rounded-lg p-6 md:p-8 mb-10 border border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-gray-700 mb-6\",\n        children: \"Add New Resume\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAddNewResume,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"newResumeField\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: [\"Field / Category Name (e.g., Python Developer) \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 64\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"newResumeField\",\n            value: newResumeField,\n            onChange: e => setNewResumeField(e.target.value),\n            required: true,\n            className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",\n            placeholder: \"e.g., Data Scientist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"resumeFile\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: [\"Upload PDF File: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"resumeFile\",\n            accept: \".pdf\",\n            onChange: e => setSelectedFile(e.target.files[0]),\n            required: true,\n            className: \"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 cursor-pointer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isLoading,\n          className: \"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 disabled:opacity-70\",\n          children: isLoading ? 'Uploading...' : 'Upload Resume'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), resumes.length === 0 && !isLoading && !showAddForm && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-gray-500 py-10\",\n      children: \"No resumes found. Click \\\"Add New Resume\\\" to upload your first one!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this), isLoading && resumes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-5 text-sm text-gray-500\",\n      children: \"Processing...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 43\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: resumes.map(resume => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-lg rounded-lg p-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 hover:shadow-xl transition-shadow duration-300\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-700\",\n            children: resume.field\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: [\"Filename: \", resume.originalFilename]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: [\"Uploaded: \", new Date(resume.createdAt || resume.uploadDate).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 sm:mt-0 flex flex-wrap flex-col sm:flex-row gap-3 items-stretch sm:items-center w-full sm:w-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            // This href will need to be adjusted based on how files are served by the backend.\n            // If files are stored in backend/uploads/resumes and not publicly served,\n            // you'll need a dedicated backend route like GET /api/resumes/download/:filename or /api/resumes/file/:id\n            // For now, this link will be broken if files are not in frontend/public\n            href: `${process.env.REACT_APP_API_URL_WITHOUT_API_PREFIX || 'http://localhost:5001'}/uploads/resumes/${resume.storedFilename}` // Example: Needs backend to serve static files from uploads\n            ,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\"\n            // download // Using download attribute might be tricky with backend-served files; direct link is often better.\n            ,\n            className: \"w-full sm:w-auto text-center bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md text-sm shadow transition duration-300\",\n            children: \"Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleUpdate(resume),\n            className: \"w-full sm:w-auto bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-medium py-2 px-4 rounded-md text-sm shadow transition duration-300\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(resume._id, resume.field),\n            disabled: isLoading,\n            className: \"w-full sm:w-auto bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-md text-sm shadow transition duration-300 disabled:opacity-70\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this)]\n      }, resume._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n_s(ResumePage, \"OpxlRLNBDlSuANaKk2mD7R2Eo+Y=\");\n_c = ResumePage;\nexport default ResumePage;\nvar _c;\n$RefreshReg$(_c, \"ResumePage\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","ResumePage","_s","resumes","setResumes","isLoading","setIsLoading","error","setError","showAddForm","setShowAddForm","newResumeField","setNewResumeField","selectedFile","setSelectedFile","fetchResumes","response","get","data","err","_err$response","_err$response$data","console","message","handleDelete","resumeId","resumeField","window","confirm","delete","_err$response2","_err$response2$data","alert","handleUpdate","resume","field","_id","handleAddNewResume","e","preventDefault","trim","formData","FormData","append","post","headers","document","getElementById","value","_err$response3","_err$response3$data","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","htmlFor","type","id","onChange","target","required","placeholder","accept","files","disabled","map","originalFilename","Date","createdAt","uploadDate","toLocaleDateString","href","process","env","REACT_APP_API_URL_WITHOUT_API_PREFIX","storedFilename","rel","_c","$RefreshReg$"],"sources":["/Users/harisharan/Desktop/portfolio_py/frontend/src/pages/ResumePage.js"],"sourcesContent":["// frontend/src/pages/ResumePage.js\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api'; // Your configured Axios instance\n\nconst ResumePage = () => {\n  const [resumes, setResumes] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n\n  // State for the add resume form\n  const [newResumeField, setNewResumeField] = useState('');\n  // const [newResumeFilename, setNewResumeFilename] = useState(''); // We'll use the file's actual name\n  const [selectedFile, setSelectedFile] = useState(null);\n\n\n  const fetchResumes = async () => {\n    setIsLoading(true);\n    try {\n      const response = await api.get('/resumes'); // REAL API CALL\n      setResumes(response.data);\n      setError(null);\n    } catch (err) {\n      console.error(\"Error fetching resumes:\", err);\n      setError(err.response?.data?.message || \"Failed to load resumes. Is the backend running?\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchResumes();\n  }, []);\n\n  const handleDelete = async (resumeId, resumeField) => {\n    if (window.confirm(`Are you sure you want to delete the ${resumeField} resume? This is permanent.`)) {\n      setIsLoading(true);\n      try {\n        await api.delete(`/resumes/${resumeId}`); // REAL API CALL\n        // alert('Resume deleted successfully!');\n        fetchResumes(); // Refresh the list\n      } catch (err) {\n        console.error(\"Error deleting resume:\", err);\n        alert(err.response?.data?.message || 'Failed to delete resume.');\n        setIsLoading(false); // Only set loading to false if fetchResumes is not called or also fails\n      }\n    }\n  };\n\n  const handleUpdate = (resume) => {\n    // This would navigate to an edit page or open an edit modal\n    // Requires a separate form and PUT endpoint on the backend\n    alert(`Update functionality for \"${resume.field}\" (ID: ${resume._id}) needs to be built out. This would involve a form and a PUT request to the backend.`);\n  };\n\n  const handleAddNewResume = async (e) => {\n    e.preventDefault();\n    if (!newResumeField.trim()) {\n      alert(\"Please provide a field/category for the new resume.\");\n      return;\n    }\n    if (!selectedFile) {\n      alert(\"Please select a PDF file to upload.\");\n      return;\n    }\n\n    setIsLoading(true);\n    \n    const formData = new FormData();\n    formData.append('field', newResumeField);\n    formData.append('resumeFile', selectedFile); // 'resumeFile' must match the name expected by multer on the backend\n\n    // If you have a customFieldName logic based on 'Other' category:\n    // if (newResumeField.toLowerCase() === 'other' && customFieldNameState) {\n    //   formData.append('customFieldName', customFieldNameState);\n    // }\n\n    try {\n      await api.post('/resumes', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data', // Important for file uploads\n        },\n      });\n      \n      setNewResumeField('');\n      setSelectedFile(null);\n      if (document.getElementById('resumeFile')) { // Reset file input visually\n        document.getElementById('resumeFile').value = null;\n      }\n      \n      setShowAddForm(false);\n      fetchResumes(); // Refresh the list with the newly added resume\n    } catch (err) {\n      console.error(\"Error adding resume:\", err.response || err);\n      alert(err.response?.data?.message || \"Failed to add resume. Check console for details.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Initial loading state for the whole page\n  if (isLoading && resumes.length === 0 && !error) { \n    return <div className=\"text-center py-10\">Loading resumes...</div>;\n  }\n\n  // Error state for initial load\n  if (error && resumes.length === 0) {\n    return <div className=\"text-center py-10 text-red-500 bg-red-100 p-3 rounded\">{error}</div>;\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4\">\n        <h1 className=\"text-3xl md:text-4xl font-bold text-gray-800 text-center sm:text-left\">Manage Resumes</h1>\n        <button\n          onClick={() => setShowAddForm(!showAddForm)}\n          className=\"w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transition duration-300\"\n        >\n          {showAddForm ? 'Cancel Add' : 'Add New Resume'}\n        </button>\n      </div>\n\n      {/* Display general error messages if they occurred during an action but resumes are still shown */}\n      {error && resumes.length > 0 && (\n         <div className=\"mb-4 text-center text-red-500 bg-red-100 p-3 rounded\">{error}</div>\n      )}\n\n\n      {showAddForm && (\n        <div className=\"bg-white shadow-xl rounded-lg p-6 md:p-8 mb-10 border border-gray-200\">\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Add New Resume</h2>\n          <form onSubmit={handleAddNewResume} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"newResumeField\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Field / Category Name (e.g., Python Developer) <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                id=\"newResumeField\"\n                value={newResumeField}\n                onChange={(e) => setNewResumeField(e.target.value)}\n                required\n                className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                placeholder=\"e.g., Data Scientist\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"resumeFile\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Upload PDF File: <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"file\"\n                id=\"resumeFile\"\n                accept=\".pdf\"\n                onChange={(e) => setSelectedFile(e.target.files[0])}\n                required\n                className=\"mt-1 block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 cursor-pointer\"\n              />\n            </div>\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 disabled:opacity-70\"\n            >\n              {isLoading ? 'Uploading...' : 'Upload Resume'}\n            </button>\n          </form>\n        </div>\n      )}\n\n      {resumes.length === 0 && !isLoading && !showAddForm && (\n        <p className=\"text-center text-gray-500 py-10\">No resumes found. Click \"Add New Resume\" to upload your first one!</p>\n      )}\n\n      {/* Show a loading indicator during actions if resumes are already present */}\n      {isLoading && resumes.length > 0 && <div className=\"text-center py-5 text-sm text-gray-500\">Processing...</div>}\n\n      <div className=\"space-y-6\">\n        {resumes.map((resume) => (\n          <div key={resume._id} className=\"bg-white shadow-lg rounded-lg p-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 hover:shadow-xl transition-shadow duration-300\">\n            <div className=\"flex-grow\">\n              <h2 className=\"text-xl font-semibold text-gray-700\">{resume.field}</h2>\n              <p className=\"text-sm text-gray-500\">Filename: {resume.originalFilename}</p> {/* Changed to originalFilename */}\n              <p className=\"text-sm text-gray-500\">Uploaded: {new Date(resume.createdAt || resume.uploadDate).toLocaleDateString()}</p> {/* Use createdAt from timestamps */}\n            </div>\n            <div className=\"mt-4 sm:mt-0 flex flex-wrap flex-col sm:flex-row gap-3 items-stretch sm:items-center w-full sm:w-auto\">\n              {/* The download URL needs to be constructed to point to where backend serves the file, or a direct public link if backend moves it to public */}\n              {/* For now, this might not work directly until backend serves the file or provides a direct URL */}\n              <a\n                // This href will need to be adjusted based on how files are served by the backend.\n                // If files are stored in backend/uploads/resumes and not publicly served,\n                // you'll need a dedicated backend route like GET /api/resumes/download/:filename or /api/resumes/file/:id\n                // For now, this link will be broken if files are not in frontend/public\n                href={`${process.env.REACT_APP_API_URL_WITHOUT_API_PREFIX || 'http://localhost:5001'}/uploads/resumes/${resume.storedFilename}`} // Example: Needs backend to serve static files from uploads\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                // download // Using download attribute might be tricky with backend-served files; direct link is often better.\n                className=\"w-full sm:w-auto text-center bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md text-sm shadow transition duration-300\"\n              >\n                Download\n              </a>\n              <button\n                onClick={() => handleUpdate(resume)}\n                className=\"w-full sm:w-auto bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-medium py-2 px-4 rounded-md text-sm shadow transition duration-300\"\n              >\n                Update\n              </button>\n              <button\n                onClick={() => handleDelete(resume._id, resume.field)}\n                disabled={isLoading}\n                className=\"w-full sm:w-auto bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-md text-sm shadow transition duration-300 disabled:opacity-70\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ResumePage;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,GAAG,MAAM,iBAAiB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEnC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;;EAErD;EACA,MAAM,CAACe,cAAc,EAAEC,iBAAiB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACxD;EACA,MAAM,CAACiB,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAGtD,MAAMmB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BT,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMU,QAAQ,GAAG,MAAMlB,GAAG,CAACmB,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;MAC5Cb,UAAU,CAACY,QAAQ,CAACE,IAAI,CAAC;MACzBV,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOW,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZC,OAAO,CAACf,KAAK,CAAC,yBAAyB,EAAEY,GAAG,CAAC;MAC7CX,QAAQ,CAAC,EAAAY,aAAA,GAAAD,GAAG,CAACH,QAAQ,cAAAI,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcF,IAAI,cAAAG,kBAAA,uBAAlBA,kBAAA,CAAoBE,OAAO,KAAI,iDAAiD,CAAC;IAC5F,CAAC,SAAS;MACRjB,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAEDT,SAAS,CAAC,MAAM;IACdkB,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMS,YAAY,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,WAAW,KAAK;IACpD,IAAIC,MAAM,CAACC,OAAO,CAAC,uCAAuCF,WAAW,6BAA6B,CAAC,EAAE;MACnGpB,YAAY,CAAC,IAAI,CAAC;MAClB,IAAI;QACF,MAAMR,GAAG,CAAC+B,MAAM,CAAC,YAAYJ,QAAQ,EAAE,CAAC,CAAC,CAAC;QAC1C;QACAV,YAAY,CAAC,CAAC,CAAC,CAAC;MAClB,CAAC,CAAC,OAAOI,GAAG,EAAE;QAAA,IAAAW,cAAA,EAAAC,mBAAA;QACZT,OAAO,CAACf,KAAK,CAAC,wBAAwB,EAAEY,GAAG,CAAC;QAC5Ca,KAAK,CAAC,EAAAF,cAAA,GAAAX,GAAG,CAACH,QAAQ,cAAAc,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAcZ,IAAI,cAAAa,mBAAA,uBAAlBA,mBAAA,CAAoBR,OAAO,KAAI,0BAA0B,CAAC;QAChEjB,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;MACvB;IACF;EACF,CAAC;EAED,MAAM2B,YAAY,GAAIC,MAAM,IAAK;IAC/B;IACA;IACAF,KAAK,CAAC,6BAA6BE,MAAM,CAACC,KAAK,UAAUD,MAAM,CAACE,GAAG,sFAAsF,CAAC;EAC5J,CAAC;EAED,MAAMC,kBAAkB,GAAG,MAAOC,CAAC,IAAK;IACtCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAAC5B,cAAc,CAAC6B,IAAI,CAAC,CAAC,EAAE;MAC1BR,KAAK,CAAC,qDAAqD,CAAC;MAC5D;IACF;IACA,IAAI,CAACnB,YAAY,EAAE;MACjBmB,KAAK,CAAC,qCAAqC,CAAC;MAC5C;IACF;IAEA1B,YAAY,CAAC,IAAI,CAAC;IAElB,MAAMmC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEhC,cAAc,CAAC;IACxC8B,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAE9B,YAAY,CAAC,CAAC,CAAC;;IAE7C;IACA;IACA;IACA;;IAEA,IAAI;MACF,MAAMf,GAAG,CAAC8C,IAAI,CAAC,UAAU,EAAEH,QAAQ,EAAE;QACnCI,OAAO,EAAE;UACP,cAAc,EAAE,qBAAqB,CAAE;QACzC;MACF,CAAC,CAAC;MAEFjC,iBAAiB,CAAC,EAAE,CAAC;MACrBE,eAAe,CAAC,IAAI,CAAC;MACrB,IAAIgC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,EAAE;QAAE;QAC3CD,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,KAAK,GAAG,IAAI;MACpD;MAEAtC,cAAc,CAAC,KAAK,CAAC;MACrBK,YAAY,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOI,GAAG,EAAE;MAAA,IAAA8B,cAAA,EAAAC,mBAAA;MACZ5B,OAAO,CAACf,KAAK,CAAC,sBAAsB,EAAEY,GAAG,CAACH,QAAQ,IAAIG,GAAG,CAAC;MAC1Da,KAAK,CAAC,EAAAiB,cAAA,GAAA9B,GAAG,CAACH,QAAQ,cAAAiC,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAc/B,IAAI,cAAAgC,mBAAA,uBAAlBA,mBAAA,CAAoB3B,OAAO,KAAI,kDAAkD,CAAC;IAC1F,CAAC,SAAS;MACRjB,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;;EAED;EACA,IAAID,SAAS,IAAIF,OAAO,CAACgD,MAAM,KAAK,CAAC,IAAI,CAAC5C,KAAK,EAAE;IAC/C,oBAAOP,OAAA;MAAKoD,SAAS,EAAC,mBAAmB;MAAAC,QAAA,EAAC;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACpE;;EAEA;EACA,IAAIlD,KAAK,IAAIJ,OAAO,CAACgD,MAAM,KAAK,CAAC,EAAE;IACjC,oBAAOnD,OAAA;MAAKoD,SAAS,EAAC,uDAAuD;MAAAC,QAAA,EAAE9C;IAAK;MAAA+C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAC7F;EAEA,oBACEzD,OAAA;IAAKoD,SAAS,EAAC,6BAA6B;IAAAC,QAAA,gBAC1CrD,OAAA;MAAKoD,SAAS,EAAC,mEAAmE;MAAAC,QAAA,gBAChFrD,OAAA;QAAIoD,SAAS,EAAC,uEAAuE;QAAAC,QAAA,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzGzD,OAAA;QACE0D,OAAO,EAAEA,CAAA,KAAMhD,cAAc,CAAC,CAACD,WAAW,CAAE;QAC5C2C,SAAS,EAAC,kJAAkJ;QAAAC,QAAA,EAE3J5C,WAAW,GAAG,YAAY,GAAG;MAAgB;QAAA6C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLlD,KAAK,IAAIJ,OAAO,CAACgD,MAAM,GAAG,CAAC,iBACzBnD,OAAA;MAAKoD,SAAS,EAAC,sDAAsD;MAAAC,QAAA,EAAE9C;IAAK;MAAA+C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CACpF,EAGAhD,WAAW,iBACVT,OAAA;MAAKoD,SAAS,EAAC,uEAAuE;MAAAC,QAAA,gBACpFrD,OAAA;QAAIoD,SAAS,EAAC,2CAA2C;QAAAC,QAAA,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7EzD,OAAA;QAAM2D,QAAQ,EAAEtB,kBAAmB;QAACe,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACvDrD,OAAA;UAAAqD,QAAA,gBACErD,OAAA;YAAO4D,OAAO,EAAC,gBAAgB;YAACR,SAAS,EAAC,8CAA8C;YAAAC,QAAA,GAAC,iDACxC,eAAArD,OAAA;cAAMoD,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjF,CAAC,eACRzD,OAAA;YACE6D,IAAI,EAAC,MAAM;YACXC,EAAE,EAAC,gBAAgB;YACnBd,KAAK,EAAErC,cAAe;YACtBoD,QAAQ,EAAGzB,CAAC,IAAK1B,iBAAiB,CAAC0B,CAAC,CAAC0B,MAAM,CAAChB,KAAK,CAAE;YACnDiB,QAAQ;YACRb,SAAS,EAAC,qJAAqJ;YAC/Jc,WAAW,EAAC;UAAsB;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNzD,OAAA;UAAAqD,QAAA,gBACErD,OAAA;YAAO4D,OAAO,EAAC,YAAY;YAACR,SAAS,EAAC,8CAA8C;YAAAC,QAAA,GAAC,mBAClE,eAAArD,OAAA;cAAMoD,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD,CAAC,eACRzD,OAAA;YACE6D,IAAI,EAAC,MAAM;YACXC,EAAE,EAAC,YAAY;YACfK,MAAM,EAAC,MAAM;YACbJ,QAAQ,EAAGzB,CAAC,IAAKxB,eAAe,CAACwB,CAAC,CAAC0B,MAAM,CAACI,KAAK,CAAC,CAAC,CAAC,CAAE;YACpDH,QAAQ;YACRb,SAAS,EAAC;UAAsN;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNzD,OAAA;UACE6D,IAAI,EAAC,QAAQ;UACbQ,QAAQ,EAAEhE,SAAU;UACpB+C,SAAS,EAAC,wKAAwK;UAAAC,QAAA,EAEjLhD,SAAS,GAAG,cAAc,GAAG;QAAe;UAAAiD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN,EAEAtD,OAAO,CAACgD,MAAM,KAAK,CAAC,IAAI,CAAC9C,SAAS,IAAI,CAACI,WAAW,iBACjDT,OAAA;MAAGoD,SAAS,EAAC,iCAAiC;MAAAC,QAAA,EAAC;IAAkE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CACrH,EAGApD,SAAS,IAAIF,OAAO,CAACgD,MAAM,GAAG,CAAC,iBAAInD,OAAA;MAAKoD,SAAS,EAAC,wCAAwC;MAAAC,QAAA,EAAC;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAE/GzD,OAAA;MAAKoD,SAAS,EAAC,WAAW;MAAAC,QAAA,EACvBlD,OAAO,CAACmE,GAAG,CAAEpC,MAAM,iBAClBlC,OAAA;QAAsBoD,SAAS,EAAC,8JAA8J;QAAAC,QAAA,gBAC5LrD,OAAA;UAAKoD,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBrD,OAAA;YAAIoD,SAAS,EAAC,qCAAqC;YAAAC,QAAA,EAAEnB,MAAM,CAACC;UAAK;YAAAmB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACvEzD,OAAA;YAAGoD,SAAS,EAAC,uBAAuB;YAAAC,QAAA,GAAC,YAAU,EAACnB,MAAM,CAACqC,gBAAgB;UAAA;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,KAAC,eAC7EzD,OAAA;YAAGoD,SAAS,EAAC,uBAAuB;YAAAC,QAAA,GAAC,YAAU,EAAC,IAAImB,IAAI,CAACtC,MAAM,CAACuC,SAAS,IAAIvC,MAAM,CAACwC,UAAU,CAAC,CAACC,kBAAkB,CAAC,CAAC;UAAA;YAAArB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvH,CAAC,eACNzD,OAAA;UAAKoD,SAAS,EAAC,uGAAuG;UAAAC,QAAA,gBAGpHrD,OAAA;YACE;YACA;YACA;YACA;YACA4E,IAAI,EAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,oCAAoC,IAAI,uBAAuB,oBAAoB7C,MAAM,CAAC8C,cAAc,EAAG,CAAC;YAAA;YACjIhB,MAAM,EAAC,QAAQ;YACfiB,GAAG,EAAC;YACJ;YAAA;YACA7B,SAAS,EAAC,+IAA+I;YAAAC,QAAA,EAC1J;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJzD,OAAA;YACE0D,OAAO,EAAEA,CAAA,KAAMzB,YAAY,CAACC,MAAM,CAAE;YACpCkB,SAAS,EAAC,0IAA0I;YAAAC,QAAA,EACrJ;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTzD,OAAA;YACE0D,OAAO,EAAEA,CAAA,KAAMlC,YAAY,CAACU,MAAM,CAACE,GAAG,EAAEF,MAAM,CAACC,KAAK,CAAE;YACtDkC,QAAQ,EAAEhE,SAAU;YACpB+C,SAAS,EAAC,qJAAqJ;YAAAC,QAAA,EAChK;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA,GAnCEvB,MAAM,CAACE,GAAG;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAoCf,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACvD,EAAA,CAxNID,UAAU;AAAAiF,EAAA,GAAVjF,UAAU;AA0NhB,eAAeA,UAAU;AAAC,IAAAiF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}